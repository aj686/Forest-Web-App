<!-- index.html -->
{% extends 'base.html' %}

{% block title %} Nexus {% endblock %}

{% block header %} Tree Table {% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1>Debug Data</h1>
        <div class="table-responsive">
            <table class="table table-bordered table-striped">
                <thead class="thead-dark">
                    <tr>
                        <th>Block X</th>
                        <th>Block Y</th>
                        <th>Coordinate X</th>
                        <th>Coordinate Y</th>
                        <th>Tree Number</th>
                        <th>Species Code</th>
                        <th>Species Group</th>
                        <th>Diameter (cm)</th>
                        <th>Diameter Class</th>
                        <th>Height (m)</th>
                        <th>Volume (m³)</th>
                        <th>Status</th>
                        <th>Production</th>
                        <!-- <th>Cut Volume (m³)</th> -->
                        <th>Cutting Angle</th>
                        <th>Damage Crown</th>
                        <th>Damage Stem</th>
                        <th>Diameter 30</th>
                        <th>Production 30</th>
                        <!-- <th>Diameter after 30 years</th> -->
                        <th>Volume after 30 years</th>
                    </tr>
                </thead>
                <tbody>
                    {% for tree in cut_trees %}
                    <tr>
                        <td>{{ tree.Block_X }}</td>
                        <td>{{ tree.Block_Y }}</td>
                        <td>{{ tree.Coordinate_X }}</td>
                        <td>{{ tree.Coordinate_Y }}</td>
                        <td>{{ tree.Tree_Number }}</td>
                        <td>{{ tree.SPECODE }}</td>
                        <td>{{ tree.SPECIES_GROUP }}</td>
                        <td>{{ tree.Diameter_cm }}</td>
                        <td>{{ tree.Diameter_Class }}</td>
                        <td>{{ tree.Height_m }}</td>
                        <td>{{ tree.Volume_m3 }}</td>
                        <td>{{ tree.Status }}</td>
                        <td>{{ tree.Production }}</td>
                        <!-- <td>{{ tree.Cut_Volume_m3 }}</td> -->
                        <td>{{ tree.Cutting_Angle }}</td>
                        <td>{{ tree.Damage_Crown }}</td>
                        <td>{{ tree.Damage_Stem }}</td>
                        <td>{{ tree.Diameter_30 }}</td>
                        <td>{{ tree.Production_30 }}</td>
                        <!-- <td>{{ tree.Diameter_after_30_years }}</td> -->
                        <td>{{ tree.Volume_after_30_years }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <p class="mb-4"></p>

        <!-- Pagination controls -->
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <p class="mb-4"></p>
                {% if pagination.has_prev %}
                    <li class="page-item">
                        <a class="page-link" href="{{ url_for('index', page=pagination.prev_num) }}" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                {% endif %}
                
                {% for page_num in pagination.iter_pages() %}
                    <li class="page-item {% if page_num == pagination.page %}active{% endif %}">
                        <a class="page-link" href="{{ url_for('index', page=page_num) }}">{{ page_num }}</a>
                    </li>
                {% endfor %}

                {% if pagination.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="{{ url_for('index', page=pagination.next_num) }}" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    </div>
{% endblock %}
